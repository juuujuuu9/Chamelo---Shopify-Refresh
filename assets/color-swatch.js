class ColorSwatcher extends HTMLElement{constructor(){super(),this.swatchAttr="[js-hb-color-swatch-img]",this.colorSwatch=this.querySelectorAll("[js-color-swatch]"),this.init()}init(){this.colorSwatch.forEach(t=>{t.addEventListener("click",()=>{let e=t.closest("[js-card-product]");this.updateClass(t,e),this.updateImage(t,e),this.updateLinks(t,e),this.updateTitle(t,e),this.updatePrices(t,e),this.updateVideo(t,e),this.updateHoverImages(t,e),this.updateDescription(t,e),this.updateCompareProductDetails(t,e)})})}updateDescription(t,e){const r=t.querySelector(this.swatchAttr).getAttribute("data-product-description"),c=e.querySelector("[js-hb-product-description]");c&&(c.innerHTML=r)}updateHoverImages(t,e){const r=t.querySelector(this.swatchAttr).getAttribute("data-img-src-value"),c=t.querySelector(this.swatchAttr).getAttribute("data-collection-hover-image"),s=t.querySelector(this.swatchAttr).getAttribute("data-full-hover-image"),i=e.querySelector("[js-hb-collection-image]"),o=e.querySelector("[js-hb-collection-hover-image]"),a=e.querySelector("[js-hb-collection-hover-video]"),u=e.querySelector("[js-hb-full-hover-image]");if(i&&(i.setAttribute("src",r),i.setAttribute("srcset",r)),o&&(o.setAttribute("src",c),o.setAttribute("srcset",c)),a){const e=t.querySelector(this.swatchAttr).getAttribute("data-collection-hover-video"),r=t.querySelector(this.swatchAttr).getAttribute("data-collection-hover-video-poster");a.setAttribute("video_url",e),a.setAttribute("src",e),a.play(),a.setAttribute("poster",r)}u&&(u.setAttribute("src",s),u.setAttribute("srcset",s))}updateVideo(t,e){let r=t.querySelector(this.swatchAttr).getAttribute("data-video-url"),c=t.querySelector(this.swatchAttr).getAttribute("data-poster"),s=e.querySelector("[js-hb-video]");s&&(s.setAttribute("video_url",r),s.setAttribute("src",r),s.play(),s.setAttribute("poster",c))}updatePrices(t,e){let r=t.querySelector(this.swatchAttr).getAttribute("data-price"),c=t.querySelector(this.swatchAttr).getAttribute("data-compare-price"),s=e.querySelectorAll(".price-item.price-item--sale"),i=e.querySelectorAll(".price-item.price-item--regular");c?i.forEach(function(t){t.textContent=c}):i.forEach(function(t){t.textContent=r}),s.forEach(function(t){t.textContent=r})}updateTitle(t,e){let r=t.querySelector(this.swatchAttr).getAttribute("data-title"),c=e.querySelector("[js-hb-product-title]");c&&(c.textContent=r)}updateClass(t,e){e.querySelectorAll("[js-color-swatch]").forEach(function(t){t.classList.remove("active")}),t.classList.add("active")}updateImage(t,e){let r=t.querySelector(this.swatchAttr).getAttribute("data-img-src-value"),c=e.querySelector(".main-featured-image");c&&(c.setAttribute("src",r),c.setAttribute("srcset",r));const s=t.querySelector(this.swatchAttr).getAttribute("data-compare-product-image"),i=e.querySelector("[js-hb-compare-product-image-wrapper] img");i&&(i.setAttribute("src",s),i.setAttribute("srcset",s))}updateLinks(t,e){let r=e.querySelectorAll("[js-btn-link]"),c=t.querySelector(this.swatchAttr).getAttribute("data-new-product-url");r.forEach(function(t){t.setAttribute("href",c)})}updateCompareProductDetails(t,e){const r=e.querySelectorAll("[js-hb-compare-product-details]"),c=t.querySelector(this.swatchAttr).getAttribute("data-compare-product-details");r.forEach(function(t){t.innerHTML=c})}}customElements.define("color-swatch",ColorSwatcher);
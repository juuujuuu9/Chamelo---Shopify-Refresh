{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}

{{ 'component-slider.css' | asset_url | stylesheet_tag }}
{{ 'template-collection.css' | asset_url | stylesheet_tag }}

{% if section.settings.image_shape == 'blob' %}
  {{ 'mask-blobs.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{{ 'quick-add.css' | asset_url | stylesheet_tag }}

{%- unless section.settings.quick_add == 'none' -%}  
  <script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>
{%- endunless -%}

{%- if section.settings.quick_add == 'standard' -%}
  <script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{%- if section.settings.quick_add == 'bulk' -%}
  <script src="{{ 'quick-add-bulk.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'quantity-popover.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'price-per-item.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'quick-order-list.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{%- if section.settings.main_heading_text != blank or section.settings.main_information_text != blank or section.settings.main_button_link != blank or section.settings.main_collection_products != blank -%}
  <div class="Index_featured_collection_main_new" style="background: {{ section.settings.main_background_color }};">
    <div class="Index_featured_collection_inner_new">
      {%- if section.settings.main_heading_text != blank or section.settings.main_information_text != blank or section.settings.main_button_link != blank -%}
        <div class="page-width">
          <div class="Index_featured_collection_mainsides_new">
            <div class="Index_featured_collection_innersides_new">
              {%- if section.settings.main_heading_text != blank -%}
                <div class="Index_featured_collection_innersides_mainleft_new">
                  <div class="Index_featured_collection_innersides_innerleft_new">
                    {%- if section.settings.main_heading_text != blank -%}
                      <div class="Index_featured_collection_innersides_innerleft_maintitle_new">
                        <div class="Common_title_new Index_featured_collection_innersides_innerleft_innertitle_new">
                          <h2>{{ section.settings.main_heading_text }}</h2>
                        </div>
                      </div>
                    {%- endif -%}
                    {%- if section.settings.main_information_text != blank -%}
                      <div class="Index_featured_collection_innersides_innerleft_maininfos_new Mobile_only_new">
                        <div class="Index_featured_collection_innersides_innerleft_innerinfos_new">
                          {{ section.settings.main_information_text }}
                        </div>
                      </div>
                    {%- endif -%}
                  </div>
                </div>
              {%- endif -%}
              {%- if section.settings.main_button_text != blank and section.settings.main_button_link != blank -%}
                <div class="Index_featured_collection_innersides_mainright_new Desktop_only_new">
                  <div class="Index_featured_collection_innersides_innerright_new">
                    <a href="{{ section.settings.main_button_link }}" class="button">
                      {{ section.settings.main_button_text }}  
                    </a>
                  </div>
                </div>
              {%- endif -%}
            </div>
          </div>
        </div>
      {%- endif -%}
      {%- if section.settings.main_collection_products != blank -%}
        <div class="Index_featured_collection_mainloops_new">
          <div class="Index_featured_collection_innerloops_new">
            <div class="swiper Index_featured_collection_slider">
              <div class="swiper-wrapper">
                {%- for product in section.settings.main_collection_products.products limit: section.settings.products_to_show -%}
                  <div class="swiper-slide Product_grid_item_new">
                    {% render 'card-product',
                      card_product: product,
                      media_aspect_ratio: section.settings.image_ratio,
                      image_shape: section.settings.image_shape,
                      show_secondary_image: section.settings.show_secondary_image,
                      show_vendor: section.settings.show_vendor,
                      show_rating: section.settings.show_rating,
                      section_id: section.id,
                      quick_add: section.settings.quick_add,
                      className: "Index_Card_product_main_new"
                    %}
                  </div>
                {%- endfor -%}
              </div>
              <div class="swiper-scrollbar"></div>
              <div class="swiper-pagination"></div>
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
            </div>
          </div>
        </div>
      {%- endif -%}
      {%- if section.settings.main_button_text != blank and section.settings.main_button_link != blank -%}
        <div class="page-width">
          <div class="Index_featured_collection_innersides_mainright_new Mobile_only_new">
            <div class="Index_featured_collection_innersides_innerright_new">
              <a href="{{ section.settings.main_button_link }}">
                {{ section.settings.main_button_text }}  
              </a>
            </div>
          </div>
        </div>
      {%- endif -%}
    </div>
  </div>
{%- endif -%}

{% schema %}
  {
    "name": "Index Featured Collection",
    "class": "Index_featured_collection_new",
    "settings": [
      {
        "type": "color",
        "id": "main_background_color",
        "label": "Add Main Background Color",
        "default": "#F6F6F6"
      },
      {
        "type": "textarea",
        "id": "main_heading_text",
        "label": "Add Main Heading Text",
        "default": "Shop bestsellers"
      },
      {
        "type": "richtext",
        "id": "main_information_text",
        "label": "Add Main Information Text",
        "default": "<p>Explore our most popular styles</p>"
      },
      {
        "type": "text",
        "id": "main_button_text",
        "label": "Add Main Button Text",
        "default": "Shop All"
      },
      {
        "type": "url",
        "id": "main_button_link",
        "label": "Add Main Button Link",
        "default": "/"
      },
      {
        "type": "collection",
        "id": "main_collection_products",
        "label": "Select Main Collection Products"
      },
      {
        "type": "range",
        "id": "products_to_show",
        "min": 5,
        "max": 100,
        "step": 1,
        "default": 5,
        "label": "Maximum Products To Show"
      },
      {
        "type": "select",
        "id": "image_ratio",
        "options": [
          {
            "value": "adapt",
            "label": "t:sections.featured-collection.settings.image_ratio.options__1.label"
          },
          {
            "value": "portrait",
            "label": "t:sections.featured-collection.settings.image_ratio.options__2.label"
          },
          {
            "value": "square",
            "label": "t:sections.featured-collection.settings.image_ratio.options__3.label"
          }
        ],
        "default": "adapt",
        "label": "Select Image Ratio"
      },
      {
        "type": "select",
        "id": "image_shape",
        "options": [
          {
            "value": "default",
            "label": "t:sections.all.image_shape.options__1.label"
          },
          {
            "value": "arch",
            "label": "t:sections.all.image_shape.options__2.label"
          },
          {
            "value": "blob",
            "label": "t:sections.all.image_shape.options__3.label"
          },
          {
            "value": "chevronleft",
            "label": "t:sections.all.image_shape.options__4.label"
          },
          {
            "value": "chevronright",
            "label": "t:sections.all.image_shape.options__5.label"
          },
          {
            "value": "diamond",
            "label": "t:sections.all.image_shape.options__6.label"
          },
          {
            "value": "parallelogram",
            "label": "t:sections.all.image_shape.options__7.label"
          },
          {
            "value": "round",
            "label": "t:sections.all.image_shape.options__8.label"
          }
        ],
        "default": "default",
        "label": "Select All Image Shape",
        "info": "t:sections.all.image_shape.info"
      },
      {
        "type": "checkbox",
        "id": "show_secondary_image",
        "label": "Show Second Image On Hover",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_vendor",
        "label": "Show Vendor Text",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_rating",
        "label": "Show Product Rating",
        "default": false,
        "info": "t:sections.featured-collection.settings.show_rating.info"
      },
      {
        "type": "select",
        "id": "quick_add",
        "label": "Select Quick Add Button",
        "default": "none",
        "info": "t:sections.main-collection-product-grid.settings.quick_add.info",
        "options": [
          {
            "value": "none",
            "label": "t:sections.main-collection-product-grid.settings.quick_add.options.option_1"
          },
          {
            "value": "standard",
            "label": "t:sections.main-collection-product-grid.settings.quick_add.options.option_2"
          },
          {
            "value": "bulk",
            "label": "t:sections.main-collection-product-grid.settings.quick_add.options.option_3"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Index Featured Collection"
      }
    ]
  }
{% endschema %}
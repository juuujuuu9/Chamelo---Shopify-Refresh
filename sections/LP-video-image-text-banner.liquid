{% if section.settings.main_banner_text != blank or section.settings.main_video != blank %}
  <div class="LP_video_image_text_banner_main LP_video_image_text_banner_main_{{ section.id }} {{ section.settings.custom_class }}">
    {% if section.settings.main_video != blank %}
      <div class="LP_video_image_main">
        {{ section.settings.main_video | video_tag: image_size: 'master', controls: false, autoplay: true, loop: true }}
      </div>
      {% else %}
      <div class="LP_video_image_main">
        {% if section.settings.main_image != blank %}
          {{
            section.settings.main_image | 
            image_url: width: img.width | 
            image_tag: widths: '750, 900, 1080, 1296, 1512, 1728, 1944, 2048', 
            fetchpriority: 'auto'
          }}
        {% endif %}
      </div>
    {% endif %}
      <div class="LP_video_image_text_banner_inner">
        <div class="LP_video_image_text_banner_text">
          {{ section.settings.main_banner_text }}
        </div>
      </div>
    </div>
{% endif %}

<style>
  .LP_video_image_text_banner_main { position: relative; padding-bottom: 44.5008%;}
  .LP_video_image_main { position: absolute; width: 100%; height: 100%;}
  .LP_video_image_main img, .LP_video_image_main video { width: 100%; height: 100% !important; object-fit: cover; display: block; }
  .LP_video_image_text_banner_text { position: absolute; bottom: 96px; left: 56px; max-width: 476px; padding-left: 32px; border-left: 2px solid #fff;z-index: 3; }
  .LP_video_image_text_banner_text h4 { font-size: 24px; font-weight: 600; line-height: 110%; color: #FFF; margin: 0; }
  .LP_video_image_text_banner_main:before{content:'';position:absolute;width:100%;height:100%;background: linear-gradient(180deg, rgba(0, 0, 0, 0) 52.03%, rgba(0, 0, 0, 0.25) 83.13%);width:100%;height:100%;top:0;z-index: 1;}
  @media (max-width: 11180px){
    .LP_video_image_text_banner_main { padding-bottom: 55%; }
    .LP_video_image_text_banner_text h4 { font-size: 20px; }
  }
  
  @media (max-width: 749px){
    .LP_video_image_text_banner_main { padding-bottom: 70%; }
    .LP_video_image_text_banner_text { left: 20px; bottom: 87px; padding-left: 24px; max-width: 337px; }
    .LP_video_image_text_banner_text h4 { font-size: 16px; line-height: 150%; }

    .LP_video_image_text_banner_main.new_era_eyewear { display: none; }
  }

  @media (max-width: 480px){
    .LP_video_image_text_banner_main { padding-bottom: 170.667%; }
  }

</style>

{% schema %}
  {
    "name": "LP Video Image Txt Banner",
    "class": "LP_video_image_text_banner",
    "settings": [
      {
        "type": "text",
        "id": "custom_class",
        "label": "Add Custom Class"
      },
      {
        "type": "video",
        "id": "main_video",
        "label": "Add Main Video"
      },
      {
        "type": "video",
        "id": "main_image",
        "label": "Add Main Image"
      },
      {
        "type": "richtext",
        "id": "main_banner_text",
        "label": "Add Banner Text",
        "default": "<p>Crush your workout with ultra-lightâ€¨frames, built-in speakers, and our electronic tint-adjustable lenses.</p>"
      }
    ],
    "presets": [
      {
        "name": "LP Video Image Text Banner",
      }
    ]
  }
{% endschema %}
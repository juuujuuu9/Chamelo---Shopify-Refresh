
<style>
  .sweepstakes-section {
    position: relative;
    background: {{ section.settings.bg-color }};
    color: {{ section.settings.text-color }};
    overflow: hidden;   
{% if section.settings.bannerimage != blank %}
     background-image: url('{{ section.settings.bannerimage | img_url: 'master' }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
{%endif %}
  }

  
  .sweepstakes-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1400px;
    margin: 0 auto;
    padding: 60px 20px;
  }

  .sweepstakes-image {
    flex: 0 0 45%;
    position: relative;
  }

  .sweepstakes-image img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 8px;
  }

  .sweepstakes-content {
    flex: 0 0 50%;
    padding: 40px;
    text-align: center;
  }

  .sweepstakes-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 30px;
    line-height: 1.2;
    letter-spacing: -0.5px;
  }

  .sweepstakes-subtitle {
    font-size: 1.5rem;
    margin-bottom: 50px;
    opacity: 0.9;
  }

  .sweepstakes-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 30px;
    margin-top: 50px;
  }

  .custom-item {
    text-align: center;
    transition: opacity 0.3s;
  }

  .custom-item.clickable {
    cursor: pointer;
  }

  .custom-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 15px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .custom-icon svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
  }

  .icon-label {
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .icon-value {
    font-size: 1rem;
    margin-top: 5px;
    opacity: 0.9;
  }

  /* Modal Styles */
  .rules-modal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.8);
    animation: fadeIn 0.3s;
  }

  .rules-modal.active {
    display: block;
  }

  .rules-modal-content {
    background-color: #2a2a2a;
    color: #ffffff;
    margin: 2% auto;
    border-radius: 8px;
    width: 90%;
    max-width: 900px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: slideDown 0.3s;
  }

  .rules-modal-header {
    padding: 30px;
    border-bottom: 1px solid #444;
  }

  .rules-modal-header h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 600;
  }

  .rules-modal-body {
    padding: 30px;
    overflow-y: auto;
    flex: 1;
  }

  .rules-modal-body p {
    font-size: 0.95rem;
    line-height: 1.7;
    margin-bottom: 20px;
    color: #e0e0e0;
  }

  .rules-modal-body strong {
    color: #ffffff;
  }

  .rules-modal-body a {
    color: #4a9eff;
    text-decoration: underline;
  }

  .rules-modal-footer {
    padding: 20px 30px;
    border-top: 1px solid #444;
    text-align: center;
  }

  .close-rules-btn {
    background-color: transparent;
    color: #ffffff;
    padding: 12px 40px;
    font-size: 1rem;
    font-weight: 600;
    border: 2px solid #ffffff;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .close-rules-btn:hover {
    background-color: #ffffff;
    color: #2a2a2a;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideDown {
    from {
      transform: translateY(-50px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
 @media (min-width: 969px) {
  .rules-modal-content {
  padding: 7rem 0rem 0rem 0rem;
}
}
  @media (max-width: 968px) {
    .sweepstakes-container {
      flex-direction: column;
      padding: 40px 20px;
    }

    .sweepstakes-image,
    .sweepstakes-content {
      flex: 0 0 100%;
      width: 100%;
    }

    .sweepstakes-content {
      padding: 30px 20px;
    }

    .sweepstakes-title {
      font-size: 2rem;
    }

    .sweepstakes-subtitle {
      font-size: 1.2rem;
    }

    .sweepstakes-stats {
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .rules-modal-content {
      width: 95%;
      margin: 5% auto;
    }

    .rules-modal-body {
      padding: 20px;
    }
  }
  @media (min-width: 769px) {
  .sweepstakes_subtitle_mobile {
  display: none;
}
}
@media (max-width: 768px) {
  .sweepstakes_subtitle_desktop {
  display: none;
}
}
</style>

<div class="sweepstakes-section">
  <div class="sweepstakes-container">
    {% if section.settings.image != blank %}
      <div class="sweepstakes-image">
         <img
          srcset="
            {%- if section.settings.image.width >= 375 -%}{{ section.settings.image | image_url: width: 375 }} 375w,{%- endif -%}
            {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | image_url: width: 750 }} 750w,{%- endif -%}
            {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
            {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | image_url: width: 1500 }} 1500w,{%- endif -%}
            {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | image_url: width: 1780 }} 1780w,{%- endif -%}
            {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | image_url: width: 2000 }} 2000w,{%- endif -%}
            {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | image_url: width: 3000 }} 3000w,{%- endif -%}
            {%- if section.settings.image.width >= 3840 -%}{{ section.settings.image | image_url: width: 3840 }} 3840w,{%- endif -%}
            {{ section.settings.image | image_url }} {{ section.settings.image.width }}w
          "
          sizes="100vw"
          src="{{ section.settings.image | image_url: width: 1500 }}"
          loading="lazy"
          alt="{{ section.settings.image.alt | escape }}"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"
        >
       
      </div>
    {% endif %}

    <div class="sweepstakes-content">
      {% if section.settings.title != blank %}
        <h2 class="sweepstakes-title">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.subtitle != blank %}
        <div class="sweepstakes-subtitle sweepstakes_subtitle_desktop">{{ section.settings.subtitle }}</div>
      {% endif %}

      {% if section.settings.subtitle-mobile != blank %}
        <div class="sweepstakes-subtitle sweepstakes_subtitle_mobile">{{ section.settings.subtitle-mobile }}</div>
      {% endif %}
      

      <div class="sweepstakes-stats">
        <div class="custom-item">
             {% if section.settings.calender-link != blank %}
        <a href="{{ section.settings.calender-link }}">
             {% endif %}
            {% if section.settings.calender != blank %}
          <div class="custom-icon">
            <img 
          src="{{ section.settings.calender | img_url: '80x' }}" 
          loading="lazy" >
          </div>
          {%endif %}

          <div class="icon-label">{{ section.settings.icon1-label }}</div>
          {% if section.settings.icon1-value != blank %}
            <div class="icon-value">{{ section.settings.icon1-value }}</div>
          {% endif %}
           {% if section.settings.calender-link != blank %}
           </a>
            {% endif %}
        </div>
    

        <div class="custom-item {% if section.settings.rules-content != blank %} clickable {% endif %}" {% if section.settings.rules-content != blank  %} onclick="openRulesModal()" {% endif %}>
             {% if section.settings.rule-link != blank %}
             <a href="{{ section.settings.rule-link }}">
                {%endif %}
              {% if section.settings.rule != blank %}
          <div class="custom-icon">
            <img 
          src="{{ section.settings.rule | img_url: '80x' }}" 
          loading="lazy"
        >
          </div>
          {%endif %}

          <div class="icon-label">{{ section.settings.icon2-label }}</div>
          {% if section.settings.icon2-value != blank %}
            <div class="icon-value">{{ section.settings.icon2-value }}</div>
          {% endif %}
           {% if section.settings.rule-link != blank %}
        </a>
        {% endif %}
        </div>

        <div class="custom-item">
             {% if  section.settings.time-link != blank %}
            <a href="{{ section.settings.time-link }}">
                {%endif %}
              {% if section.settings.time != blank %}
          <div class="custom-icon">
            <img 
          src="{{ section.settings.time | img_url: '80x' }}" 
          loading="lazy"
        >
          </div>
           {%endif %}

          <div class="icon-label">{{ section.settings.icon3-label }}</div>
          {% if section.settings.icon3-value != blank %}
            <div class="icon-value">{{ section.settings.icon3-value }}</div>
          {% endif %}
           {% if  section.settings.time-link != blank %}
        </a>
         {% endif %}
        </div>

        <div class="custom-item">
             {% if  section.settings.winner-link != blank %}
            <a href="{{ section.settings.winner-link }}">
               {% endif %}   
             {% if section.settings.winner != blank %}
          <div class="custom-icon">
             <img 
          src="{{ section.settings.winner | img_url: '80x' }}" 
          loading="lazy"
        >
          </div>
          {% endif %}

          <div class="icon-label">{{ section.settings.icon4-label }}</div>
          {% if section.settings.icon4-value != blank %}
            <div class="icon-value">{{ section.settings.icon4-value }}</div>
          {% endif %}
          {% if  section.settings.winner-link != blank %}
        </a>
        {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% if section.settings.rules-content != blank %}
<!-- Rules Modal -->
<div id="rulesModal" class="rules-modal">
  <div class="rules-modal-content">
    <div class="rules-modal-body">
      {{ section.settings.rules-content }}
    </div>
    <div class="rules-modal-footer">
      <button class="close-rules-btn" onclick="closeRulesModal()">Close Rules</button>
    </div>
  </div>
</div>


<script>
  function openRulesModal() {
    document.getElementById('rulesModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeRulesModal() {
    document.getElementById('rulesModal').classList.remove('active');
    document.body.style.overflow = 'auto';
  }

  window.onclick = function(event) {
    const modal = document.getElementById('rulesModal');
    if (event.target == modal) {
      closeRulesModal();
    }
  }

  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
      closeRulesModal();
    }
  });
</script>
{% endif %}

{% schema %}
{
  "name": "Sweepstakes Promotion",
  "settings": [
    {
      "type": "image_picker",
      "id": "bannerimage",
      "label": "Banner Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Promotion Image"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "WIN A $5K HOME GYM FROM ROKA"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Subtitle",
    },
    {
      "type": "richtext",
      "id": "subtitle-mobile",
      "label": "Subtitle For mobile",
    },
    {
      "type": "color",
      "id": "bg-color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text-color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Statistics"
    },
    {
      "type": "image_picker",
      "id": "calender",
      "label": "Icon Image"
    },
    {
          "type": "url",
          "id": "calender-link",
          "label": "Calender Link"
        },
    {
      "type": "richtext",
      "id": "icon1-label",
      "label": "Icon 1 Label"
    },
    {
      "type": "text",
      "id": "icon1-value",
      "label": "Icon 1 Value"
    },
    {
      "type": "image_picker",
      "id": "rule",
      "label": "Icon Image"
    },
     {
          "type": "url",
          "id": "rule-link",
          "label": "Rule Link"
        },
    {
      "type": "richtext",
      "id": "icon2-label",
      "label": "Icon 2 Label (Clickable - Opens Rules)"
    },
    {
      "type": "text",
      "id": "icon2-value",
      "label": "Icon 2 Value"
    },
    {
      "type": "header",
      "content": "Sweepstakes Rules"
    },
    {
      "type": "text",
      "id": "rules-content",
      "label": "Rules Content"
    },
    {
      "type": "image_picker",
      "id": "time",
      "label": "Icon Image"
    },
    {
          "type": "url",
          "id": "time-link",
          "label": "Time Link"
        },
    {
      "type": "richtext",
      "id": "icon3-label",
      "label": "Icon 3 Label"
    },
    {
      "type": "text",
      "id": "icon3-value",
      "label": "Icon 3 Value"
    },
    {
      "type": "image_picker",
      "id": "winner",
      "label": "Icon Image"
    },
    {
          "type": "url",
          "id": "winner-link",
          "label": "Winner Link"
        },
    {
      "type": "richtext",
      "id": "icon4-label",
      "label": "Icon 4 Label"
    },
    {
      "type": "text",
      "id": "icon4-value",
      "label": "Icon 4 Value"
    }
  ],
  "presets": [
    {
      "name": "Sweepstakes Promotion"
    }
  ]
}
{% endschema %}